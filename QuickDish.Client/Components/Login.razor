@page "/login"
@inject NavigationManager NavigationManager

<div class="grid grid-cols-12 gap-4 h-screen px-4">
    <div class="col-span-10 col-start-2 md:col-span-4 md:col-start-5 self-center">

        <MudPaper Elevation="0"
                  Class="
                    -translate-y-1/2 relative w-full p-6 rounded-2xl
                    bg-white/20 backdrop-blur-xl
                    border border-white/30
                    shadow-2xl shadow-blue-900/30
                    text-white
                  ">

            <!-- Login form -->
            <MudTextField T="string"
                          Label="Email"
                          InputType="InputType.Email"
                          Required="true"
                          Placeholder="Nhập email của bạn"
                          Class="mb-3"
                          Variant="Variant.Outlined" />

            <MudTextField T="string"
                          Label="Mật khẩu"
                          InputType="InputType.Password"
                          Required="true"
                          Placeholder="Nhập mật khẩu của bạn"
                          Variant="Variant.Outlined" />

            <div class="flex items-center justify-between mt-4">
                <MudCheckBox T="bool"
                             Color="Color.Error"
                             Label="Nhớ mật khẩu" />

                <MudLink Href="#"
                         Underline="Underline.Hover"
                         Class="text-sm text-white">
                    Quên mật khẩu?
                </MudLink>
            </div>

            <MudButton FullWidth
                       Variant="Variant.Filled"
                       Color="Color.Primary"
                       Class="mt-3 font-bold rounded-full"
                       OnClick="HandleLogin">
                Đăng nhập
            </MudButton>

            <MudDivider Class="my-3" />

            <!-- Google -->
            <MudButton FullWidth
                       Class="
                         font-bold rounded-full text-white
                         bg-gradient-to-r from-[#4285F4] via-[#34A853] to-[#FBBC05]
                         hover:from-[#34A853] hover:to-[#EA4335]
                         transition
                       "
                       OnClick="@(() => HandleExternalLogin("Google"))">
                Đăng nhập với Google
            </MudButton>

            <!-- Facebook -->
            <MudButton FullWidth
                       Class="
                         mt-3 font-bold rounded-full text-white
                         bg-gradient-to-r from-[#1d4ed8] via-[#2563eb] to-[#1e40af]
                         hover:from-[#2563eb] hover:to-[#1d4ed8]
                         transition
                       "
                       OnClick="@(() => HandleExternalLogin("Facebook"))">
                Đăng nhập với Facebook
            </MudButton>

        </MudPaper>
    </div>
</div>

@code {
    private Task HandleLogin()
    {
        return Task.CompletedTask;
    }

    private void HandleExternalLogin(string provider)
    {
        NavigationManager.NavigateTo(
            $"/authentication/signin-{provider.ToLower()}",
            forceLoad: true);
    }
}
